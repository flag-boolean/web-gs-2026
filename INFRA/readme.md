# –û–±—â–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏ 
---

## 1) –°–µ—Ä–≤–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (Wireguard)

**–†–æ–ª—å:** –≤—Ö–æ–¥–Ω–æ–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏, —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞/—Ç—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è.

**–û–° –∏ –¥–æ—Å—Ç—É–ø:**
- –û–°: Ubuntu (–±–µ–∑ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞).
- –î–æ—Å—Ç—É–ø –ø–æ SSH; –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç (22).
- –°–æ–∑–¥–∞—Ç—å —É—á—ë—Ç–Ω—É—é –∑–∞–ø–∏—Å—å —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (sudo).
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å SSH-–∫–ª—é—á–∏ –∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –≤—Ö–æ–¥ –ø–æ –ø–∞—Ä–æ–ª—é –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

**–°–µ—Ç–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:**
- –í–ú –∏–º–µ–µ—Ç 6 –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤:
  - `eth0` ‚Äî ¬´–±–µ–ª—ã–π¬ª (–ø—É–±–ª–∏—á–Ω—ã–π) IP –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞.
  - `eth1`‚Äì`eth5` ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –ø–æ–¥—Å–µ—Ç–µ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–π (—à–ª—é–∑—ã).

**–®–∞–±–ª–æ–Ω –∞–¥—Ä–µ—Å–∞—Ü–∏–∏:** –ø–æ–¥—Å–µ—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ñ–æ—Ä–º–∞—Ç 172.2X.30.0/24, –≥–¥–µ X ‚Äî –Ω–æ–º–µ—Ä –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏ (1..5).
- –ü—Ä–∏–º–µ—Ä –¥–ª—è `eth1` (X=1):
  - IP –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞: `172.21.30.254`
  - –ú–∞—Å–∫–∞: `/24` (255.255.255.0)
  - –®–ª—é–∑ (gateway): `172.21.30.253`

> –î–ª—è `eth2` –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ: —Å–µ—Ç—å `172.22.30.0/24`, gateway `172.22.30.253` –∏ —Ç.–¥.

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
- ca-certificates, curl, gnupg, docker-ce, docker-ce-cli, containerd.io, docker-buildx-plugin, docker-compose-plugin

**–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Docker:**
```bash
sudo install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
sudo chmod a+r /etc/apt/keyrings/docker.gpg

echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
  $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

sudo apt update && sudo apt install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin
```

---

## 2) –ú–≠ (pfSense)

**–î–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤:** –≤–µ—Ä—Å–∏—è 2.7.2 (—Å—Å—ã–ª–∫–∞ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è: https://disk.yandex.ru/d/FuHP2-XtIEHV7A).

**–°–µ—Ç–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (–º–∏–Ω–∏–º—É–º):**
- `WAN` ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (–ø—É–±–ª–∏—á–Ω—ã–π/–±–µ–ª—ã–π IP). –ù–∞ —ç—Ç–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –∑–∞–¥–∞—ë—Ç—Å—è Default Gateway.
- `LAN` ‚Äî —Å–µ—Ç—å ¬´–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –±–ª–æ–∫–∞¬ª, –ø—Ä–∏–º–µ—Ä: `172.2X.30.253` (–≥–¥–µ X ‚Äî –Ω–æ–º–µ—Ä –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏).
- `OPT1` ‚Äî —Å–µ—Ç—å ¬´–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å¬ª, –ø—Ä–∏–º–µ—Ä: `172.2X.31.253` (–æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç—Ä–µ—Ç–∏–π –æ–∫—Ç–µ—Ç ‚Äî 31).

**–ü—Ä–∞–≤–∏–ª–∞ –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è:**
- –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: –ø—Ä–∞–≤–∏–ª–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ANY <-> ANY –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —à–ª—é–∑—ã (Gateways) –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, –ø–æ–¥—Å–µ—Ç–∏ –±—É–¥—É—Ç –∑–Ω–∞—Ç—å –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ —á–µ—Ä–µ–∑ —Å–∞–º pfSense.

**–£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
- –õ–æ–≥–∏–Ω: `admin`
- –ü–∞—Ä–æ–ª—å: `pfsense`

> –ò–∑–º–µ–Ω—è—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –ø–∞—Ä–æ–ª—å –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ - –Ω–µ –Ω—É–∂–Ω–æ.

---

## 3) –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã (VM)

**–û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è:**
- –ù–∞ —Å—Ö–µ–º–µ —É–∫–∞–∑–∞–Ω—ã –∏–º–µ–Ω–∞ VM –∏ –∏—Ö IP-–∞–¥—Ä–µ—Å–∞; –º–∞—Å–∫–∞ –ø–æ–¥—Å–µ—Ç–µ–π `/24`.
- –®–ª—é–∑ –≤—Å–µ—Ö VM ‚Äî —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å pfSense.
- –†–∞–∑–º–µ—Ç–∫–∞ –¥–∏—Å–∫–æ–≤: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤—Å–µ—Ö VM.

**–û–±—Ä–∞–∑—ã –∏ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- Astra Linux: https://disk.yandex.ru/d/RveG0lZnPEb8gg
  - –õ–æ–≥–∏–Ω: `astra`
  - –ü–∞—Ä–æ–ª—å: `xxXX1234`
- Windows 10 Pro: https://disk.yandex.ru/d/Avb_btJ-quWibQ
  - –õ–æ–≥–∏–Ω: `windows`
  - –ü–∞—Ä–æ–ª—å: `xxXX1234`
- Windows Server 2019: https://disk.yandex.ru/d/LgGGBQsImoCywA
  - –õ–æ–≥–∏–Ω: `–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä`
  - –ü–∞—Ä–æ–ª—å: `xxXX1234`

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ Windows:**
- –û—Ç–∫–ª—é—á–∏—Ç—å –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä (Windows Firewall).
- –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–ø–æ –∑–∞–¥–∞–Ω–∏—é/—Å—Ü–µ–Ω–∞—Ä–∏—é –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏).
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Å—Ç—É–ø –ø–æ RDP –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–ª—É–∂–±—ã RDP —Ä–∞–±–æ—Ç–∞—é—Ç.

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ Linux:**
- –û—Ç–∫–ª—é—á–∏—Ç—å ufw (–µ—Å–ª–∏ –æ–Ω –∞–∫—Ç–∏–≤–µ–Ω).
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSH-–¥–æ—Å—Ç—É–ø.
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `cifs-utils` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ SMB/CIFS-—Ä–µ—Å—É—Ä—Å–∞–º (—Ñ–∞–π–ª–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä).

---

## 4) –§–∞–π–ª–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤ (DISTRIB)

**–°–µ—Ç—å –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:**
- –°–µ—Ä–≤–µ—Ä –∏–º–µ–µ—Ç 5 –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ ‚Äî –ø–æ –æ–¥–Ω–æ–º—É IP –≤ –ø–æ–¥—Å–µ—Ç–∏ –∫–∞–∂–¥–æ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏.
- IP-—à–∞–±–ª–æ–Ω: `172.2X.30.252/24` —Å gateway `172.2X.30.253` (–≥–¥–µ X ‚Äî –Ω–æ–º–µ—Ä –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏).

**–†–µ—Å—É—Ä—Å—ã:**
- –û–±—â–∞—è –ø–∞–ø–∫–∞: `DISTRIB`.
- –î–æ—Å—Ç—É–ø: —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ (read-only) –¥–ª—è –≤—Å–µ—Ö, –≤–∫–ª—é—á–∞—è –≥–æ—Å—Ç–µ–≤–æ–π –¥–æ—Å—Ç—É–ø.
- –î–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã –¥–ª—è –≤—ã–≥—Ä—É–∑–∫–∏: https://disk.yandex.ru/d/lT0awes-7CtpeQ

---

## 5) –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ üîí

- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è —á–µ—Ä–µ–∑ NTP/chrony –¥–ª—è –≤—Å–µ—Ö —Ö–æ—Å—Ç–æ–≤.




